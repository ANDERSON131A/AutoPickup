apply plugin: 'java'
apply plugin: "jacoco"

group = 'me.MnMaxon'
version = '4.1.3'

sourceCompatibility = 1.8
targetCompatibility = 1.8

jar {
        eachFile { copyDetails ->
        if (copyDetails.path == 'plugin.yml') {
            filter { line ->
                line.replace('{{version}}', "$version")
            }
        }
    }
}

repositories {
    mavenLocal()
    mavenCentral()
    maven {url('https://hub.spigotmc.org/nexus/content/repositories/snapshots/')}
    maven {url('https://oss.sonatype.org/content/repositories/snapshots')}
    maven {url('https://jitpack.io/')}
    maven {url('http://dl.bintray.com/pixeloutlaw/pixeloutlaw-jars')}
    maven {url('http://repo.mcstats.org/content/groups/public')}

}

jacocoTestReport {
    reports {
        html.enabled = true
    }
}

check.dependsOn jacocoTestReport

dependencies {

    compile group: 'org.spigotmc',
            name: 'spigot-api',
            version:'1.11.2-R0.1-SNAPSHOT'

    compile group: "com.github.Nunnery",
            name: "MythicDrops",
            version: "development-SNAPSHOT"

    compile fileTree(dir: './libs', include: '*.jar')

    //testing dependencys
    testCompile group: "junit",
                name: "junit",
                version: "4.12"

    testCompile group: "org.mockito",
                name: "mockito-core",
                version: "2.+"

}